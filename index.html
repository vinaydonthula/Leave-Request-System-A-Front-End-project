<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="pro.html">
    <link rel="stylesheet" href="leave.html">
  </head>
  <body class="bg-gray-100 flex justify-center items-center h-screen">
    <div class="bg-white p-8 rounded shadow-md w-96">
      <h2 class="text-2xl font-bold text-center mb-6">Login</h2>

      <form id="loginForm" class="space-y-4">
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700"
            >Email</label
          >
          <input
            type="email"
            id="email"
            name="email"
            class="w-full p-2 border rounded-md"
            placeholder="Enter Email"
            required
          />
        </div>

        <div class="input-group">
          <div class="input-group">
            <label for="password">Password</label>
            <div class="relative">
              <input
                type="password"
                id="password"
                name="password"
                class="w-full p-3 pr-10 border rounded-md"
                placeholder="Enter password"
                required
              />
              <span
                class="absolute inset-y-0 right-3 flex items-center cursor-pointer"
                onclick="togglePassword()"
              >
                <svg
                  id="eyeIcon"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-gray-600"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    d="M10 3C5 3 1.73 7.11 1 10c.73 2.89 4 7 9 7s8.27-4.11 9-7c-.73-2.89-4-7-9-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5
                    5 2.24 5 5-2.24 5-5 5zm0-8a3 3 0 100 6 3 3 0 000-6z"
                  />
                </svg>
              </span>
              <i
                id="togglePassword"
                class="fa-solid fa-eye absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-600"
              ></i>
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600"
        >
          Login
        </button>
      </form>

      <!-- Link to signup -->
      <div class="mt-4 text-center">
        <p>
          Don't have an account?
          <a href="signup.html" class="text-blue-500 hover:underline"
            >Sign up here</a
          >
        </p>
      </div>

      <!-- Message -->
      <p id="errorMsg" class="text-red-500 text-center mt-4 hidden">
        Invalid credentials
      </p>
    </div>

    <!-- âœ… JavaScript to check login -->
    <script>
      document.getElementById("loginForm").onsubmit = function (event) {
        event.preventDefault();

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        const storedEmail = localStorage.getItem("email");
        const storedPassword = localStorage.getItem("password");

        if (email === storedEmail && password === storedPassword) {
          // Redirect to leave request form
          window.location.href = "pro.html";
        } else {
          document.getElementById("errorMsg").classList.remove("hidden");
        }
      };
    </script>
    <script>
      function toggleLoginPassword() {
        const input = document.getElementById("loginPassword");
        const icon = document.getElementById("loginEyeIcon");

        const isHidden = input.type === "password";
        input.type = isHidden ? "text" : "password";

        // Optional: Toggle color
        icon.classList.toggle("text-gray-600");
        icon.classList.toggle("text-blue-500");
      }
    </script>
    <script>
      const toggle = document.getElementById("togglePassword");
      const password = document.getElementById("password");

      toggle.addEventListener("click", function () {
        const type =
          password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);

        this.classList.toggle("fa-eye");
        this.classList.toggle("fa-eye-slash");
      });

      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const eyeIcon = document.getElementById("eyeIcon");

        const isPassword = passwordInput.type === "password";
        passwordInput.type = isPassword ? "text" : "password";

        // Optional: Toggle icon style if needed
        eyeIcon.classList.toggle("text-gray-600");
        eyeIcon.classList.toggle("text-blue-500");
      }
    </script>
  </body>
</html>
